(self.webpackChunklite=self.webpackChunklite||[]).push([[98453,98765],{42440:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(67294);function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var r=i.createElement("g",{fillRule:"evenodd"},i.createElement("path",{d:"M4.13 12.21a15.4 15.4 0 0 1-2.54-2.28 6.61 6.61 0 0 1-.16-.2l-.25-.3.25-.3a13.08 13.08 0 0 1 .63-.7 15.4 15.4 0 0 1 1.7-1.51C5.55 5.54 7.5 4.7 9.51 4.7c.62 0 1.28.13 1.98.37l-.8.78a4.54 4.54 0 0 0-1.18-.18c-1.76 0-3.52.76-5.18 2.02-.58.45-1.12.93-1.58 1.41-.28.3-.28.36 0 .65a14.43 14.43 0 0 0 2.08 1.77l-.71.7zm3.05 1.57a6.32 6.32 0 0 0 4.61-.11c1-.38 2.04-.98 3.1-1.72a25.27 25.27 0 0 0 2.68-2.17l.37-.35-.37-.36a23.05 23.05 0 0 0-.76-.68 25.26 25.26 0 0 0-2.28-1.73l-.72.7a24.05 24.05 0 0 1 2.37 1.77c.2.17.2.42 0 .59-.57.49-1.2.97-1.84 1.43-1.01.7-2 1.26-2.9 1.61a5.4 5.4 0 0 1-1.92.42A6.6 6.6 0 0 1 8 13l-.81.78z"}),i.createElement("path",{d:"M12.05 9.06a2.68 2.68 0 0 1-2.7 3A2.74 2.74 0 0 1 9 12l3.06-2.96zM9.72 6.79a2.83 2.83 0 0 0-.37-.02 2.68 2.68 0 0 0-2.7 3l3.07-2.98zM3.6 14.3l-.35.34.68.7.35-.34 10.4-10.08.36-.34-.68-.7-.35.34z"}));const a=function(e){return i.createElement("svg",o({width:19,height:19,viewBox:"0 0 19 19"},e),r)}},29969:(e,n,t)=>{"use strict";t.d(n,{X:()=>F});var i=t(63038),o=t.n(i),r=t(59713),a=t.n(r),l=t(67294),c=t(19616),s=t(83302),u=t(25735),d=t(6443),m=t(67701),p=t(77355),f=t(93310),v=t(20113),g=t(87691),E=t(18627),h=t(66411),x=t(14646),S=t(31889),k=t(34135),w=t(97217),b=t(43487),P=t(97489),y=t(50458),N=function(e,n){var t;return t={borderTop:"3px solid ".concat(e.accentColor.border.normal),padding:"32px 32px 26px 32px",marginTop:"8px",marginBottom:"25px",backgroundColor:e.baseColor.background.light},a()(t,P.sm(e),{padding:"24px 24px 28px 24px"}),a()(t,"minHeight",n),t},_=function(e){var n=e.viewer,t=e.newsletterV3,i=e.newsletterV3LandingUrl,o=e.useCustomDomainLOFlow,r=e.isVertical,a=e.handleClick;return n||o?t&&l.createElement(c.x,{newsletterV3:t,buttonLayout:"COMPACT",helperTextColor:"DARKER",redirectUrl:o?i:void 0}):t&&l.createElement(s.QL,{newsletterV3:t,isVertical:r,handleClick:a})},F=function(e){var n,t,i,r,a,c=e.postId,s=e.publisher,P=e.isVertical,F=void 0!==P&&P,T=l.useRef(null),R=(0,b.v9)((function(e){return e.config.authDomain})),C=(0,E.Av)(),I=(0,x.I)(),B=(0,S.F)(),L=(0,d.H)().value,A=!!(0,u.VB)({name:"enable_newsletter_lo_flow_custom_domains",placeholder:!1}),M=l.useState(!1),D=o()(M,2),O=D[0],H=D[1],V=l.useState("0px"),U=o()(V,2),W=U[0],G=U[1],X=null==(0,b.v9)((function(e){return e.navigation.currentLocation})).match("http[s]?://[^/]*".concat(R)),z=!L&&X&&A,Y=s.newsletterV3,$=null==Y?void 0:Y.type,j=s.username,K=void 0===j?"":j,J=(0,y.iBn)(null!==(n=null==Y?void 0:Y.slug)&&void 0!==n?n:"",R,$===w.Rr.NEWSLETTER_TYPE_COLLECTION?s:void 0,$===w.Rr.NEWSLETTER_TYPE_AUTHOR&&K?K:void 0),q="Collection"===s.__typename?s:void 0,Z=(0,m.gY)(q).viewerEdge;switch($){case w.Rr.NEWSLETTER_TYPE_COLLECTION:t="Sign up for ".concat(null==Y?void 0:Y.name),i="0px",r="You're an editor of ".concat(null==Y?void 0:Y.name),a=null==Z?void 0:Z.isEditor;break;case w.Rr.NEWSLETTER_TYPE_AUTHOR:t=(null==Y?void 0:Y.promoHeadline)||"Get an email whenever ".concat(s.name," publishes."),i="6px",r="You cannot subscribe to yourself",a=s.viewerIsUser}O&&(t="Check your inbox.");var Q=!1,ee=function(){!Q&&ne()&&(C.event("newsletterV3.promoViewed",{newsletterV3Id:null==Y?void 0:Y.id,postId:c}),Q=!0)},ne=function(){var e;if(!T.current)return!1;var n=null===(e=T.current)||void 0===e?void 0:e.getBoundingClientRect(),t=n.top+n.height/2;return t>=0&&t<=window.innerHeight};return l.useEffect((function(){return ee(),window&&k.V6.on("scroll",ee),function(){k.V6.off("scroll",ee)}}),[]),l.useEffect((function(){var e;if(T.current){var n=(null===(e=T.current)||void 0===e?void 0:e.getBoundingClientRect()).height;G("".concat(n,"px"))}}),[T]),Y&&l.createElement(h.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},l.createElement("div",{ref:T,className:F?void 0:I(N(B,W))},l.createElement(p.x,{paddingBottom:i},l.createElement(v.X6,{scale:{xs:"S",sm:"S",md:F?"S":"M",lg:F?"S":"M",xl:F?"S":"M"}},t)),$===w.Rr.NEWSLETTER_TYPE_COLLECTION&&!O&&l.createElement(l.Fragment,null,l.createElement(p.x,{paddingTop:"4px"},l.createElement(g.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(s.name))),l.createElement(p.x,{paddingTop:"8px",paddingBottom:"10px"},l.createElement(g.F,{scale:F?"S":{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==Y?void 0:Y.description," ",l.createElement(f.r,{inline:!0,linkStyle:"OBVIOUS",href:J},"Take a look.")))),$===w.Rr.NEWSLETTER_TYPE_AUTHOR&&(null==Y?void 0:Y.promoBody)&&!O&&l.createElement(l.Fragment,null,l.createElement(p.x,{paddingTop:"8px",paddingBottom:"8px"},l.createElement(g.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==Y?void 0:Y.promoBody))),a?l.createElement(p.x,{paddingTop:"10px"},l.createElement(g.F,{scale:"M",color:"DARKER"},r)):l.createElement(p.x,{display:"flex",flexWrap:"wrap"},l.createElement(_,{viewer:L,useCustomDomainLOFlow:z,newsletterV3:Y,newsletterV3LandingUrl:J,isVertical:F,handleClick:function(){return H(!0)}}))))}},6177:(e,n,t)=>{"use strict";t.d(n,{F:()=>o,b:()=>r});var i=t(319),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"}}]}}]}}].concat(t.n(i)()(o.definitions))}},1951:(e,n,t)=>{"use strict";t.d(n,{g:()=>a,t:()=>l});var i=t(67294),o=t(9354),r=t(75880),a=function(e){var n=e.creator,t=l(n);return n?t:{value:!1}},l=function(e){var n,t,a,l=(0,r.Pd)(e),c=l.viewerEdge,s=l.loading,u=i.useRef(null),d=(0,o.T)({newsletterSlug:null==e||null===(n=e.newsletterV3)||void 0===n?void 0:n.slug,username:null==e?void 0:e.username}),m=d.viewerEdge,p=d.loading;return(a=null!==u.current?{value:u.current}:s||p?{loading:!0}:null!=e&&null!==(t=e.newsletterV3)&&void 0!==t&&t.showPromo?{value:!(!(null!=c&&c.isUser||null==m)&&m.isSubscribed)}:{value:!1}).loading||void 0===a.value||null!==u.current||(u.current=a.value),a}},75990:(e,n,t)=>{"use strict";t.d(n,{P:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowCollectionNewsletterV3Promo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}}]}}]}}]}},40922:(e,n,t)=>{"use strict";t.d(n,{_:()=>r});var i=t(67701),o=t(9354),r=function(e){var n=(e||{}).newsletterV3,t=(0,i.gY)(e),r=t.viewerEdge,a=t.loading,l=(0,o.T)({newsletterSlug:null==n?void 0:n.slug,collectionSlug:null==e?void 0:e.slug}),c=l.viewerEdge,s=l.loading;return!(null==n||!n.showPromo||a||s||!(null!=r&&r.isEditor||null==c)&&c.isSubscribed)}},98798:(e,n,t)=>{"use strict";t.d(n,{X:()=>_,c:()=>C});var i=t(63038),o=t.n(i),r=t(28655),a=t.n(r),l=t(71439),c=t(67294),s=t(12291),u=t(76937),d=t(16572),m=t(50455),p=t(70185),f=t(4236),v=t(27323),g=t(70194),E=t(77355),h=t(47459),x=t(43158),S=t(93310),k=t(52069),w=t(87691),b=t(18305),P=t(96451),y=t(50458);function N(){var e=a()(["\n  fragment PostListingItemRecirc_post on Post {\n    __typename\n    id\n    title\n    isLocked\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...PostRecircItemV2_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return N=function(){return e},e}var _=(0,l.Ps)(N(),u.H,b.h,m.z,p.x,d.D),F=function(e){var n=e.height,t=e.width;return{paddingBottom:"".concat(n/t*100,"%"),position:"relative"}},T={height:"100%",position:"absolute",width:"100%"},R=function(e){var n=e.title,t=e.url;return c.createElement(v.P,{href:t},c.createElement(k.Dx,{scale:"S",tag:"h3"},n))},C=(0,s.$j)((function(e){return{productName:e.config.productName}}))((function(e){var n,t,i=e.post,r=e.productName,a=e.target,l=c.useState(!1),s=o()(l,2),d=s[0],v=s[1],k=c.useCallback((function(e){!d&&e.isIntersecting&&v(!0)}),[d]);if((0,P.S)({onIntersect:k,target:a,disconnect:function(){return d},rootMargin:"100px"},[d]),"SuggestedPost"===i.__typename?(n=function(e,n){var t,i,o,r;switch(e&&e[0]&&e[0].reason){case"TOP_SIMILAR_TO_POST":case"CF_POST_SIMILAR_TO_POST":return"Related reads";case"TOP_IN_TOPIC":return r=e[0].topics?e[0].topics[0].name:"topic","Popular in ".concat(r);case"POSTS_SHARING_AUTHOR":return t=e[0].users?e[0].users[0].name:"author","More from ".concat(t);case"POSTS_SHARING_TAGS":return(o=e[0].tags&&e[0].tags[0].name)?"Also tagged ".concat(o):"";case"TOP_IN_COLLECTION":return i=e[0].collections?e[0].collections[0].name:"publication","More from ".concat(i);case"TOP_FOR_THE_DAY_GLOBALLY":return"Top on ".concat(n);case"POSTS_SHARING_COLLECTION_AND_TAGS":return o=e[0].tags&&e[0].tags[0].name,i=e[0].collections?e[0].collections[0].name:"publication",o?"More on ".concat(o," from ").concat(i):"";case"RECOMMENDED_BY_AUTHOR":return(t=e[0].users&&e[0].users[0].name)?"Applause from ".concat(t):"";case"TOP_FOR_THE_DAY":return"Trending on ".concat(n);default:return"Picked for you"}}(i.postSuggestionReasons,r),t=i.post):t=i,!t)return null;var N,_,C,I,B,L,A,M=(N={id:(t.previewImage?t.previewImage.id:"")||"1*hn4v1tCaJy7cWMyb0bpNpQ.png",width:328,height:218,focusPercentX:t.previewImage?t.previewImage.focusPercentX:null,focusPercentY:t.previewImage?t.previewImage.focusPercentY:null},I=N.width,B=N.height,L=N.focusPercentX,A=N.focusPercentY,(C=N.id)?(_="number"==typeof L&&"number"==typeof A?[L,A]:[50,50],c.createElement(g.h,null,(function(e){return c.createElement("div",{className:e(F({height:B,width:I}))},c.createElement("div",{className:e(T)},c.createElement(f.B,{miroId:C,imgHeight:B,imgWidth:I,width:"100%",height:"100%",freezeGifs:!1,focusPercent:_})))}))):null);return c.createElement(b.o,{post:t,presentationContext:"PLACEMENT"},c.createElement(E.x,{playwrightClassName:"pw-more-related-articles",md:{marginBottom:"48px"},tag:"section"},c.createElement(h.T,{alignItems:{xs:"flex-start",sm:"center",md:"center",lg:"flex-start",xl:"flex-start"},direction:{xs:"row",sm:"row-reverse",md:"row-reverse",lg:"row",xl:"row"}},c.createElement(x.P,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},n&&c.createElement(E.x,{marginBottom:"12px",md:{display:"none"},xs:{display:"block"}},c.createElement(w.F,{scale:"M",tag:"h4"},n)),M&&c.createElement(E.x,{marginBottom:"16px",md:{marginBottom:"0px"},xs:{marginBottom:"16px"}},c.createElement(S.r,{display:"block",href:(0,y.jVf)(t)},d?M:null))),c.createElement(x.P,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},c.createElement(E.x,{marginBottom:"16px"},n&&c.createElement(E.x,{display:"none",marginBottom:"4px",md:{display:"block"},xs:{display:"none"}},c.createElement(w.F,{scale:"M",tag:"h4"},n)),c.createElement(R,{title:t.title?t.title:"",url:(0,y.jVf)(t)})),c.createElement(E.x,{display:"flex",alignItems:"center",justifyContent:"space-between"},c.createElement(E.x,{flexShrink:"1",marginRight:"10px"},c.createElement(u.G,{post:t,showBio:!1,scale:"S",showStar:!!t.isLocked,hideAvatar:!d})),c.createElement(E.x,{display:"flex",alignItems:"center"},c.createElement(p.S,{post:t,buttonStyle:"SUBTLE",susiEntry:"clap_preview"}),c.createElement(E.x,{borderRight:"BASE_LIGHTER",marginLeft:"12px",marginRight:"10px",height:"20px",width:"1px"}),c.createElement(m.e,{post:t,susiEntry:"bookmark_preview"})))))))}))},76937:(e,n,t)=>{"use strict";t.d(n,{H:()=>X,G:()=>z});var i=t(28655),o=t.n(i),r=t(34575),a=t.n(r),l=t(93913),c=t.n(l),s=t(2205),u=t.n(s),d=t(78585),m=t.n(d),p=t(29754),f=t.n(p),v=t(59713),g=t.n(v),E=t(71439),h=t(67294),x=t(12291),S=t(63459),k=t(98765),w=t(43220),b=t(35473),P=t(24330),y=t(17193),N=t(27048),_=t(32317),F=t(27927),T=t(70194),R=t(16793),C=t(93310),I=t(77355),B=t(87691),L=t(97489),A=t(7650),M=t(42440),D=t(21372),O=t(50458),H=t(68216);function V(){var e=o()(["\n  fragment PostByline_post on Post {\n    id\n    isPublished\n    firstPublishedAt\n    readingTime\n    statusForCollection\n    isLocked\n    visibility\n    mediumUrl\n    collection {\n      name\n      id\n      ...auroraHooks_publisher\n      ...PostSidebar_collection\n      ...collectionUrl_collection\n    }\n    creator {\n      id\n      name\n      username\n      bio\n      ...UserAvatar_user\n      ...UserFollowButton_user\n      ...UserSubscribeButton_user\n      ...userUrl_user\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return V=function(){return e},e}var U={XS:{showFollowButton:!1,avatarScale:"XS"},S:{showFollowButton:!1,avatarScale:"S"},M:{showFollowButton:!0,avatarScale:"M"}},W=function(e,n){return g()({marginBottom:e?"2px":"0px",display:"flex",alignItems:"center"},L.xs(n),{marginBottom:"0px"})},G=function(e){u()(o,e);var n,t,i=(n=o,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(n);if(t){var o=f()(this).constructor;e=Reflect.construct(i,arguments,o)}else e=i.apply(this,arguments);return m()(this,e)});function o(){return a()(this,o),i.apply(this,arguments)}return c()(o,[{key:"render",value:function(){var e=this.props,n=e.authDomain,t=e.currentLocation,i=e.post,o=e.showBio,r=e.scale,a=void 0===r?"M":r,l=e.detailScale,c=void 0===l?"M":l,s=e.showStar,u=void 0===s?i.isLocked:s,d=e.hideCollection,m=void 0!==d&&d,p=e.hideAvatar,f=void 0!==p&&p,v=e.hideDescription,g=void 0!==v&&v,E=e.noClamp,x=void 0!==E&&E,k=i.id,w=i.creator,N=i.collection,_=i.statusForCollection,F=i.visibility,L=i.isPublished,H=U[a];if(!i||!k||!w)return null;var V=i.firstPublishedAt,G=w.username,X=w.name;if(!X||!G)return null;var z=h.createElement(y.Yt,{user:w,scale:H.avatarScale,link:!0}),Y=o?h.createElement("div",null,w.bio):null,$="APPROVED"===_,j=H.showFollowButton?h.createElement(I.x,{marginLeft:"8px",display:"flex"},h.createElement(P.N,{creator:w,followButtonSize:"COMPACT",post:i,susiEntry:"follow_byline",showMembershipUpsellModal:!!i.collection,isSubscribeCompact:!0})):null,K=h.createElement(T.h,null,(function(e){return h.createElement(R.Z,null,(function(i){return h.createElement("div",{className:e(W(H.showFollowButton,i))},h.createElement(B.F,{scale:c,tag:"span",color:"DARKER",clamp:x?void 0:1},h.createElement(C.r,{href:(0,O.AWr)(w,n),inline:!0},X),N&&$&&!m?h.createElement("span",null," ","in"," ",h.createElement(C.r,{href:(0,O.WGd)(N,t,n),inline:!0},N.name)):null),j)}))})),J=h.createElement(B.F,{scale:c,tag:"span",clamp:1},Y,h.createElement("div",null,L?h.createElement(C.r,{href:(0,O.jVf)(i),inline:!0},V&&h.createElement(S.E,{timestamp:V})):h.createElement("span",null,"Draft")," ","·"," ","UNLISTED"===F?h.createElement(B.F,{scale:"S",tag:"span"},h.createElement(M.Z,null)," Unlisted"):h.createElement(h.Fragment,null,(0,D.Vd)(i.readingTime||0)," min read"),u&&h.createElement("span",{style:{paddingLeft:"4px"}},h.createElement(A.Z,{style:{marginTop:"-2px"}}))));return h.createElement(b.Y,{avatar:!f&&z,title:K,description:!g&&J})}}]),o}(h.Component),X=(0,E.Ps)(V(),H.nf,w.C5,N.W,_.sj,H.$m,k.PostSidebar_collection,F.w),z=(0,x.$j)((function(e){return{currentLocation:e.navigation.currentLocation,authDomain:e.config.authDomain}}))(G)},65197:(e,n,t)=>{"use strict";t.d(n,{X:()=>s,Z:()=>c});var i=t(319),o=t.n(i),r=t(31289),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"}}]}}].concat(o()(r.G.definitions))},l=t(96396),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingNotification_post"}}]}}].concat(o()([{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),o()(a.definitions),o()(l.W.definitions),o()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingNotification_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_meteringInfo"}}]}}].concat(o()(l.d.definitions))}},98930:(e,n,t)=>{"use strict";t.d(n,{m:()=>M});var i=t(67294),o=t(58098),r=t(63038),a=t.n(r),l=t(46829),c=t(34492),s=t(81978),u=t(93310),d=t(87691),m=t(75221),p=t(43487),f=t(50458),v=m.T3.IMPORT_AWARENESS_BANNER,g=function(e){var n=e.viewer,t=e.loading,o=(0,p.v9)((function(e){return e.config.authDomain})),r=!(null==n||!n.dismissableFlags.includes(v)),m=(null==n?void 0:n.id)||"",g=(0,l.useMutation)(s.a,{variables:{userId:m,flag:v}}),E=a()(g,1)[0];return t||r?null:i.createElement(i.Fragment,null,i.createElement(c.I,{dismissable:!0,onClick:E},i.createElement(d.F,{scale:"L",color:"DARKER",tag:"span"},i.createElement("strong",null,"New!")," You can now import subscribers into your email list."," "),i.createElement(u.r,{inline:!0,linkStyle:"SUBTLE",href:(0,f.sBN)(o)},i.createElement(d.F,{scale:"L",color:"ERROR",tag:"span"},"Start an import."))))},E=t(28655),h=t.n(E),x=t(71439);function S(){var e=h()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    newsletterV3 {\n      id\n      slug\n      name\n    }\n  }\n"]);return S=function(){return e},e}(0,x.Ps)(S());var k=function(e){var n=e.collection,t=(0,p.v9)((function(e){return e.config.authDomain})),o=n.newsletterV3||{id:"",slug:"",name:""},r=(0,f.iBn)(o.slug,t,n),a=function(){return i.createElement(u.r,{inline:!0,linkStyle:"OBVIOUS",href:r},o.name)};return i.createElement(i.Fragment,null,i.createElement(c.I,null,n.newsletterV3?i.createElement(i.Fragment,null,"This is an email from ",i.createElement(a,null),", a newsletter by ",n.name,"."):i.createElement(i.Fragment,null,"This is an email from ",n.name,".")))},w=t(5977),b=t(77355),P=t(9935),y=t(68894),N=function(e){var n=e.children,t=e.onHide,o=void 0===t?function(){}:t,r=(0,y.O)(!0),l=a()(r,3),c=l[0],s=l[2],u=i.useCallback((function(){s(),o()}),[o]);return c?i.createElement(b.x,{border:"BASE_LIGHT",borderRadius:"4px",padding:"16px 8px 16px 28px",display:"flex",justifyContent:"space-between",alignItems:"center"},i.createElement(d.F,{scale:"L",color:"DARKER"},n),i.createElement(P.P,{onClick:u,isPositionAbsolute:!1,size:"REGULAR"})):null},_=t(77280),F=t(39202);function T(){var e=h()(["\n  query PostNoteMissingNotificationQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n      content(postMeteringOptions: $postMeteringOptions) {\n        bodyModel {\n          paragraphs {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return T=function(){return e},e}function R(){var e=h()(["\n  fragment PostNoteMissingNotification_post on Post {\n    id\n  }\n"]);return R=function(){return e},e}var C=function(e){var n,t,o,r,c,s=e.post,u=(0,p.v9)((function(e){return e.navigation.referrer})),d=(0,w.TH)().hash,m=(0,_.G1)(),f=(0,_.PM)(),v=(0,l.useLazyQuery)(I,{variables:{postId:null==s?void 0:s.id,postMeteringOptions:{referrer:u,sk:m,source:f}},ssr:!1}),g=a()(v,2),E=g[0],h=g[1],x=h.called,S=h.loading,k=h.error,P=h.data,T=null==d||null===(n=d.replace("#",""))||void 0===n?void 0:n.split("-"),R=a()(T,2),C=R[0],B=R[1],L=(null!=P?P:{}).post,A=null==L||null===(t=L.privateNotes)||void 0===t?void 0:t.find((function(e){return(null==e?void 0:e.id)===B})),M=null!==(o=null==L||null===(r=L.content)||void 0===r||null===(c=r.bodyModel)||void 0===c?void 0:c.paragraphs)&&void 0!==o?o:[],D=new Set(M.map((function(e){return e.name})).filter(F.b)),O=!!A&&D.has(C),H=(0,y.O)(!!B&&!O),V=a()(H,3),U=V[0],W=V[1],G=V[2];return i.useEffect((function(){B&&!O?W():G()}),[O]),!x&&B&&E(),S||k||!U?null:i.createElement(b.x,{marginTop:"64px"},i.createElement(N,{onHide:G},"The note you're looking for was deleted"))},I=((0,x.Ps)(R()),(0,x.Ps)(T())),B=t(98863),L=t(6443),A=t(52278),M=function(e){var n,t=e.meteringInfo,r=e.post,a=(0,B.f)().isWorkingPreview,l=(0,L.H)(),c=l.value,s=l.loading,u=(null==c?void 0:c.id)===(null===(n=r.creator)||void 0===n?void 0:n.id);return i.createElement(A.M,{columns:8,gutter:!1,padding:{xs:"0 8px",sm:"0 8px",md:"0 16px",lg:"0 16px",xl:"0 16px"},tag:"div"},i.createElement(C,{post:r}),u&&!a&&i.createElement(g,{viewer:c,loading:s}),r.isNewsletter&&!!r.collection&&i.createElement(k,{collection:r.collection}),!!r.isLocked&&!!t&&i.createElement(o.rh,{meteringInfo:t,post:r}))}},62021:(e,n,t)=>{"use strict";t.d(n,{Y:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNextFiveStories_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},87552:(e,n,t)=>{"use strict";t.d(n,{h:()=>T});var i=t(67154),o=t.n(i),r=t(63038),a=t.n(r),l=t(28655),c=t.n(l),s=t(71439),u=t(67294),d=t(74991),m=t(7830),p=t(30122),f=t(39956),v=t(5892),g=t(89787),E=t(68717),h=t(25735),x=t(66411),S=t(96451),k=t(34135);function w(){var e=c()(["\n  query PostNextFiveStoriesUser($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: user(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function b(){var e=c()(["\n  query PostNextFiveStoriesCollection($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: collection(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return b=function(){return e},e}function P(){var e=c()(["\n  fragment PostNextFiveStories_Publisher on Publisher {\n    __typename\n    id\n    homepagePostsConnection(paging: {limit: $limit, from: $from}) {\n      posts {\n        ...ExpandablePost_post\n      }\n    }\n    ...CardByline_publisher\n  }\n  ","\n  ","\n"]);return P=function(){return e},e}var y=(0,s.Ps)(P(),E.Gk,g.bj),N=(0,s.Ps)(b(),y),_=(0,s.Ps)(w(),y),F=function(e){var n,t,i,r=e.post,l=e.rootMargin,c=e.target,s=e.showHighDensityPreview,g=(0,m.SK)(),E=!!(0,h.VB)({name:"enable_post_page_write_cta",placeholder:!1}),k=(null===(n=r.collection)||void 0===n?void 0:n.id)||"",w=(null===(t=r.creator)||void 0===t?void 0:t.id)||"",b=k||w,P=function(e){var n=e.firstPublishedAt,t=e.pinnedAt;return e.collection?t?"P".concat(t):"L".concat(n):"".concat(n)}(r),y=k?N:_,F={id:b,from:P},T=(0,f.N)(y,{variables:F}),R=a()(T,2),C=R[0],I=R[1],B=I.called,L=I.loading,A=I.error,M=I.data,D=(M=void 0===M?{publisher:void 0}:M).publisher;if((0,S.S)({onIntersect:C,target:c,disconnect:function(){return B},rootMargin:l},[B]),!B||L||A||!D)return null;var O=null==D||null===(i=D.homepagePostsConnection)||void 0===i?void 0:i.posts;if(!D||!O)return null;var H="Collection"===D.__typename,V=E&&O.length>=2;return u.createElement(u.Fragment,null,O.map((function(e,n){var t={publisher:D,post:e,hideAuthor:!H,isFirst:0===n,includeBottomDivider:V&&0===n||n===O.length-1,index:n,excludeMargin:V&&1===n,isMediumApp:g},i=V&&1===n?u.createElement(x.cW,{source:{name:"post-page-footer-cta-write"}},u.createElement(p.B,{padding:"20px"})):u.createElement(u.Fragment,null);return u.createElement("span",{key:e.id},i,g?u.createElement(d.G,o()({},t,{showBylinePublisherInfo:!0,showHighDensityPreview:s})):u.createElement(v.m,o()({},t,{showBylinePublisherInfo:!0,showHighDensityPreview:s})))})))},T=function(e){var n=e.post,t=e.rootMargin,i=e.target,o=e.showHighDensityPreview,r=void 0!==o&&o,l=u.useState(!1),c=a()(l,2),s=c[0],d=c[1];return s||k.V6.on("load",(function(){return d(!0)})),s?u.createElement(F,{post:n,target:i,rootMargin:t,showHighDensityPreview:r}):null}},16572:(e,n,t)=>{"use strict";t.d(n,{D:()=>S,d:()=>k});var i=t(67154),o=t.n(i),r=t(28655),a=t.n(r),l=t(71439),c=t(67294),s=t(12291),u=t(76937),d=t(59221),m=t(77355),p=t(27323),f=t(93310),v=t(20113),g=t(18305),E=t(46696),h=t(50458);function x(){var e=a()(["\n  fragment PostRecircItemV2_post on Post {\n    __typename\n    id\n    title\n    mediumUrl\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n  }\n  ","\n  ","\n"]);return x=function(){return e},e}var S=(0,l.Ps)(x(),u.H,g.h),k=(0,s.$j)((function(e){return{defaultImages:e.config.defaultImages}}))((function(e){var n,t=e.post,i=e.defaultImages,r="SuggestedPost"===t.__typename?null==t?void 0:t.post:t;if(!r)return null;var a,l,s,x,S=r.title,k=r.previewImage,w=null==i||null===(n=i.postPreviewImage)||void 0===n?void 0:n.imageId,b=(s=(a={id:(null==k?void 0:k.id)||w,focusPercentX:null==k?void 0:k.focusPercentX,focusPercentY:null==k?void 0:k.focusPercentY}).focusPercentX,x=a.focusPercentY,(l=a.id)?c.createElement(d.F,{miroId:l,freezeGifs:!1,focusPercentX:s,focusPercentY:x,strategy:E._S.Crop,width:70,height:70,otherWidths:[48,70],expectedWidth:70,rules:[{minWidth:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"},minHeight:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"}}]}):null);return c.createElement(g.o,{post:r,presentationContext:"PLACEMENT"},c.createElement(m.x,{display:"flex",justifyContent:"space-between"},c.createElement(m.x,{flexShrink:"1",xs:{marginRight:"16px"},sm:{marginRight:"16px"},md:{marginRight:"16px"}},c.createElement(m.x,{paddingBottom:"8px"},c.createElement(v.X6,{scale:{xs:"XXS",sm:"XXS",md:"XXS",lg:"XS",xl:"XS"}},c.createElement(p.P,{href:(0,h.jVf)(r)},S))),c.createElement(u.G,{post:r,showBio:!1,scale:"S",detailScale:"S",showStar:!!r.isLocked,hideAvatar:!0,hideDescription:!0,noClamp:!0})),b&&c.createElement(m.x,o()({marginLeft:"12px",marginRight:"8px"},{sm:{marginLeft:"16px",marginRight:"0px"}}),c.createElement(f.r,{display:"block",href:(0,h.jVf)(r)},b))))}))},98765:(e,n,t)=>{"use strict";t.r(n),t.d(n,{PostSidebarContent:()=>j,PostSidebar:()=>q,PostSidebar_customStyleSheet:()=>ee,PostSidebar_collection:()=>ne,PostSidebar_post:()=>te});var i=t(28655),o=t.n(i),r=t(50008),a=t.n(r),l=t(63038),c=t.n(l),s=t(59713),u=t.n(s),d=t(71439),m=t(67294),p=t(33380),f=t(82405),v=t(14294),g=t(92071),E=t(15045),h=t(50455),x=t(1444),S=t(70185),k=t(12549),w=t(63045),b=t(43220),P=t(68773),y=t(52602),N=t(3428),_=t(21232),F=t(6443),T=t(27693),R=t(86122),C=t(24330),I=t(84492),B=t(32317),L=t(77355),A=t(93310),M=t(87691),D=t(14199),O=t(66411),H=t(14646),V=t(43487),U=t(37734),W=t(84509),G=t(50458),X=t(68216);function z(){var e=o()(["\n  fragment PostSidebar_post on Post {\n    id\n    clapCount\n    allowResponses\n    postResponses {\n      count\n    }\n    isLimitedState\n    collection {\n      ...auroraHooks_publisher\n      ...PostSidebar_collection\n    }\n    creator {\n      bio\n      name\n      ...FollowAndSubscribeButtons_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n      ...PublisherSidebarFollows_user\n      ...SidebarProfilePic_user\n      ...PublisherFollowingCount_publisher\n      ...UserSubscribeButton_user\n    }\n    isShortform\n    ...BookmarkButton_post\n    ...CollectionFollowButton_post\n    ...MultiVote_post\n    ...UserFollowButton_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return z=function(){return e},e}function Y(){var e=o()(["\n  fragment PostSidebar_collection on Collection {\n    id\n    description\n    tagline\n    ...CollectionFollowButton_collection\n    ...collectionUrl_collection\n  }\n  ","\n  ","\n"]);return Y=function(){return e},e}function $(){var e=o()(["\n  fragment PostSidebar_customStyleSheet on CustomStyleSheet {\n    ...PublisherSidebarFollows_customStyleSheet\n  }\n  ","\n"]);return $=function(){return e},e}var j=function(e){var n,t=e.customStyleSheet,i=e.maxHeight,o=void 0===i?0:i,r=e.post,a=e.showProfilePic,l=e.visible,c=m.useContext(_.f).openSidebar,s=m.useRef(null),u=(0,H.I)(),d=(0,V.v9)((function(e){return e.navigation.currentLocation})),p=(0,b.GT)(r.collection||r.creator)?m.createElement(m.Fragment,null,a&&!!r.creator&&m.createElement(P.$,{user:r.creator}),m.createElement(Q,{post:r,customStyleSheet:t,isVisible:l})):r.collection&&m.createElement(Z,{post:r,currentLocation:d});return m.createElement(m.Fragment,null,r.isShortform?p:m.createElement(m.Fragment,null,m.createElement("div",{ref:s},o?m.createElement("div",{className:u((0,R.JS)(o))},p):p,m.createElement(L.x,{display:"flex",flexDirection:"row",borderTop:"BASE_LIGHTER",paddingTop:"32px",justifyContent:"space-evenly",alignItems:"center",width:"100%"},m.createElement(L.x,{display:"flex",marginRight:"20px"},m.createElement(S.S,{post:r,buttonStyle:"SUBTLE_PADDED",susiEntry:"clap_sidebar",hasDialog:!0})),m.createElement(O.cW,{source:{postId:r.id},extendSource:!0},m.createElement(L.x,{marginRight:"20px",marginTop:"2px"},m.createElement(N.h,{trackingData:{postId:r.id},responsesCount:null===(n=r.postResponses)||void 0===n?void 0:n.count,handleClick:c||function(){},allowResponses:r.allowResponses,isLimitedState:r.isLimitedState,svgSize:"S",countStylesOverride:{paddingLeft:"6px"}})),m.createElement(L.x,{marginTop:"1px"},m.createElement(x.o,{post:r,susiEntry:"bookmark_sidebar"}))))),m.createElement(E.o5,{post:r,mode:"SIDEBAR",heightRef:s})))},K={wordBreak:"break-word"},J=function(e){var n;return n={opacity:e?1:0,pointerEvents:e?"auto":"none",willChange:"opacity",position:"fixed",width:"188px",left:"50%",transform:"translateX(406px)",top:"calc(".concat(g.Je,"px + 54px + 14px)")},u()(n,(0,U.nk)("no-preference"),{transition:"opacity 200ms"}),u()(n,"@media all and (max-width: 1230px)",{display:"none"}),n},q=m.forwardRef((function(e,n){var t=e.isClearOfBounds,i=e.isOnPage,o=e.customStyleSheet,r=e.post,l=e.extraWide,s=(0,H.I)(),u=m.useContext(p.u6).watchedBounds,d=m.useState(i||!1),f=c()(d,2),v=f[0],g=f[1],E=m.useState(0),h=c()(E,2),x=h[0],S=h[1],k=m.useState(t||!1),w=c()(k,2),b=w[0],P=w[1],N=m.useRef(null),_=m.useRef(null),F=function(e,n){var t,i,o,r,a=null===(t=e.get("byline"))||void 0===t||null===(i=t.ref)||void 0===i?void 0:i.current,l=null===(o=e.get("ghost-track"))||void 0===o||null===(r=o.ref)||void 0===r?void 0:r.current,c=l&&(0,W.L6)(l).top+window.scrollY-window.innerHeight||0;if(a&&l){var s=a.offsetTop+a.offsetHeight+10;return s-c}}(u);m.useEffect((0,R.T6)(u,g),[u]);var C=m.useCallback((function(){var e;!function(e,n,t,i,o){if(e.current){var r=n.current,a=["image","bgimage","footer","byline","title","header"],l=(0,T.b2)(e.current,t,a,o),c=!r||(0,T.b2)(r,t,a,o);i(l&&c)}}(N,_,u,P,{threshold:10});var n=(0,R.Ui)(x,F,null==N||null===(e=N.current)||void 0===e?void 0:e.clientHeight);n!==x&&S(n)}),[u,x,F]);m.useEffect((function(){C()}),[]);var I="object"===a()(n)?n:null;m.useEffect((0,T.hE)(C,null==I?void 0:I.current),[C,null==I?void 0:I.current]);var B=b&&v;return m.createElement(O.cW,{source:{susiEntry:"post_sidebar",name:"post_sidebar"}},m.createElement(T.HX,{testId:"post-sidebar",isFixed:!0,scrollableRef:n,sidebarRef:N,topOffset:F,visible:B,extraWide:l},m.createElement(j,{customStyleSheet:o,maxHeight:x,post:r,visible:B})),m.createElement("div",{className:s(J(B)),ref:_},m.createElement(y._U,{postId:r.id,isVisible:B})))})),Z=function(e){var n=e.post,t=e.currentLocation,i=(0,H.I)(),o=(0,D.n)({name:"heading",scale:"XS",fontWeight:"NORMAL"}),r=(0,V.v9)((function(e){return e.config.authDomain})),a=n.collection;return a?m.createElement(L.x,{marginBottom:"20px"},(null==a?void 0:a.name)&&m.createElement(A.r,{href:(0,G.WGd)(a,t,r)},m.createElement("h2",{className:i([o,K])},a.name)),(a.tagline||a.description)&&m.createElement(L.x,{paddingTop:"2px",paddingBottom:"20px"},m.createElement(M.F,{scale:"M",clamp:6},a.tagline||a.description)),m.createElement(f.Fp,{buttonSize:"REGULAR",collection:a,post:n,susiEntry:"follow_sidebar"})):null},Q=function(e){var n=e.post,t=e.customStyleSheet,i=e.isVisible,o=(0,F.H)().value,r=(0,V.v9)((function(e){return e.config.authDomain})),a=(0,H.I)(),l=(0,D.n)({name:"heading",scale:"XS",fontWeight:"NORMAL"}),c=n.creator;if(!c||!c.name)return null;var s=m.createElement("h2",{className:a([l,K])},c.name),u=c?m.createElement(A.r,{href:(0,G.AWr)(c,r)},s):s;return m.createElement(m.Fragment,null,m.createElement(L.x,{marginBottom:"20px"},m.createElement(L.x,{paddingBottom:"5px"},u),c.bio&&m.createElement(L.x,{paddingTop:"2px"},m.createElement(M.F,{scale:"M"},m.createElement(v.P,{wrapLinks:!0},c.bio))),(null==o?void 0:o.id)!==c.id&&m.createElement(O.cW,{source:{name:"post_sidebar",postId:n.id}},m.createElement(L.x,{display:"flex",paddingTop:"20px"},m.createElement(C.N,{creator:c,post:n,susiEntry:"follow_sidebar",showMembershipUpsellModal:!!n.collection,shouldHideTooltip:!i,isVisible:i})))),m.createElement(w.Lk.Provider,{value:{postId:n.id}},m.createElement(w.eB,{withBottomBorder:!0,publisher:c,customStyleSheet:t,isVisible:i})))},ee=(0,d.Ps)($(),w.qy),ne=(0,d.Ps)(Y(),f.Iq,X.nf),te=(0,d.Ps)(z(),b.C5,ne,I.i,h.z,f.b3,S.x,B.S$,E.tA,X.$m,w.FB,P.G,k.b5)},39956:(e,n,t)=>{"use strict";t.d(n,{y:()=>f,N:()=>v});var i=t(63038),o=t.n(i),r=t(46829),a=t(67294),l=t(98798),c=t(77355),s=t(47459),u=t(43158),d=t(20113),m=t(18627),p=t(66411);function f(e){var n=e.posts,t=e.sourceName,i=a.useRef(null),o=(0,m.Av)();return a.useEffect((function(){o.event("experiment.eligible",{experimentId:"57b820b82d68"})}),[]),0===n.length?null:a.createElement(c.x,{margin:"32px 0",md:{marginBottom:"0px"},ref:i},a.createElement(c.x,{marginBottom:"32px",borderBottom:"BASE_LIGHTER",paddingBottom:"8px"},a.createElement(d.X6,{scale:"S"},"More From Medium")),a.createElement(s.T,{alignItems:"flex-start"},n.map((function(e,n){return a.createElement(u.P,{key:"recirc-".concat(n),size:{xs:12,sm:12,md:12,lg:4,xl:4}},a.createElement(p.cW,{source:{name:t,index:n}},a.createElement(l.c,{post:e,target:i})))}))))}function v(e,n){var t=(0,r.useLazyQuery)(e,n),i=o()(t,2),l=i[0],c=i[1];return[a.useCallback((function(e){!c.called&&e.isIntersecting&&l()}),[c]),c]}},15045:(e,n,t)=>{"use strict";t.d(n,{o5:()=>y,tA:()=>w,tE:()=>b});var i=t(28655),o=t.n(i),r=t(71439),a=t(67294),l=t(61796),c=t(27693),s=t(93310),u=t(87691),d=t(14646),m={INLINE:{padding:"8px 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},SIDEBAR:{padding:"8px 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"".concat(c.ZR,"px"),":hover":{width:"200px"}}};function p(e){var n=(0,d.I)();return a.createElement("li",{className:n({overflow:"hidden"})},a.createElement(u.F,{scale:"M",color:"DARKER"},a.createElement(s.r,{href:"#".concat(e.destination),onClick:function(n){n.preventDefault(),function(e){var n=document.getElementById(e);if(n){var t=n.offsetTop-56;window.scrollTo({left:0,top:t,behavior:"smooth"}),window.history.pushState({},"","#".concat(e))}}(e.destination)},disableSourceParam:!0,follow:!1,inline:!0},a.createElement("div",{className:n(m[e.mode]),title:e.text},e.text))))}var f=t(34784),v=t(77355),g=t(8431),E=t(31889),h=t(97217),x=t(14804),S=t(87879);function k(){var e=o()(["\n  fragment TableOfContents_post on Post {\n    id\n    collection {\n      id\n    }\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          id\n          name\n          type\n          text\n        }\n      }\n    }\n  }\n"]);return k=function(){return e},e}var w=(0,r.Ps)(k()),b=function(e){return!!(e.collection&&e.collection.id&&["3ec9f38ac0bd","3f6ecf56618","8d6b8a439e32"].includes(e.collection.id))||["8135e6744d59","21f0e9818b3a"].includes(e.id)},P={INLINE:{display:{xs:"block",sm:"block",md:"block",lg:"block",xl:"none"},marginTop:"35px"},SIDEBAR:{display:{xs:"none",sm:"none",md:"none",lg:"none",xl:"block"},margin:"50px 0",fontSize:"16px",":hover":{width:"200px"}}},y=function(e){var n=e.post,t=e.mode,i=e.heightRef,o=(0,d.I)(),r=(0,E.F)().backgroundColor,c=function(e){var n=(e||{content:{bodyModel:{paragraphs:null}}}).content.bodyModel.paragraphs;if(!n)throw new Error("Expected post to have paragraphs.");var t=(0,l.LI)(n),i=n.filter((function(e){return function(e){switch(e){case h.NJ.H1:case h.NJ.H2:case h.NJ.H3:return!0}return!1}(e.type)}));return null!==t.titleIndex&&i.splice(0,1),i.length>1?i:[]}(n);if(!b(n)||null==c||!c.length)return null;var s,u,m=a.createElement(v.x,{overflow:"hidden",marginTop:"16px"},a.createElement("ol",{className:o({marginTop:"5px"})},c.map((function(e){return a.createElement(p,{key:"toc_".concat(e.name),text:e.text||"",destination:e.name||"",mode:t})})))),k=(0,S.n2)(r),w=function(e){return"rgba(".concat(k[0],", ").concat(k[1],", ").concat(k[2],", ").concat(e,")")};switch(t){case"INLINE":var y=a.createElement(g.Lh,{scale:"M",color:"LIGHTER"},a.createElement("div",{className:o({marginRight:"7px"})},"Jump To Section"));return a.createElement("div",{className:o(P[t])},a.createElement(v.x,{borderBottom:"BASE_LIGHTER",paddingBottom:"10px"},a.createElement(f.$,{titleComponent:y,width:"auto",arrowFill:(0,x.Uy)(.54)},m)));case"SIDEBAR":return a.createElement("div",{className:o(P[t])},a.createElement(g.Lh,{scale:"S",color:"LIGHTER"},a.createElement("div",{className:o({whiteSpace:"nowrap"})},"Table of Contents")),a.createElement(v.x,{position:"relative"},a.createElement("div",{className:o((function(){return{background:"linear-gradient(".concat(w(1),",\n      ").concat(w(.5),",\n      ").concat(w(0),")"),width:"100%",height:"".concat(35,"px")}}))}),a.createElement("div",{className:o({overflowY:"scroll",scrollbarWidth:"none","-ms-overflow-style":"none","::-webkit-scrollbar":{display:"none"},height:(s=null!=i&&i.current?i.current.offsetHeight:0,u=Math.max("undefined"!=typeof window?window.innerHeight-s-106-100:150,150),"".concat(u,"px")),paddingBottom:"".concat(35,"px"),position:"relative",top:"-".concat(35,"px")})},m),a.createElement("div",{className:o((function(){return{background:"linear-gradient(".concat(w(0),",\n      ").concat(w(.5),",\n      ").concat(w(1),")"),position:"relative",width:"100%",height:"".concat(35,"px"),top:"-".concat(35,"px")}}))})));default:return null}}},21052:(e,n,t)=>{"use strict";t.d(n,{m:()=>B,a:()=>L});var i=t(28655),o=t.n(i),r=t(67154),a=t.n(r),l=t(63038),c=t.n(l),s=t(71439),u=t(67294),d=t(82405),m=t(6177),p=t(43220),f=t(6443),v=t(75880),g=t(24330),E=t(32317),h=t(27927),x=t(27669),S=t(77355),k=t(96370),w=t(93310),b=t(8431),P=t(20113),y=t(87691),N=t(31889),_=t(34135),F=t(43487),T=t(50458),R=t(68216);function C(){var e=o()(["\n  fragment PostFooterBylineAurora_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n      ...UserSubscribeButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n    ...useShowAuthorNewsletterV3Promo_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return C=function(){return e},e}var I="follow_footer",B=function(e){var n=e.post,t=e.maxWidthSize,i=void 0===t?"inset":t,o=n.creator,r=n.collection,l=(0,F.v9)((function(e){return e.config.authDomain})),s=(0,F.v9)((function(e){return e.navigation.currentLocation})),m=(0,f.H)().value,E=(0,N.F)(),h=(0,v.Pd)(o).viewerEdge,R=u.useState(0),C=c()(R,2),B=C[0],L=C[1],A=B<=E.breakpoints.sm,M=A?2:1,D=function(){L(window.innerWidth)};u.useEffect((function(){return D(),_.V6.on("resize",D),function(){return _.V6.off("resize",D)}}),[]);var O="REGULAR",H={xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},V=(null==m?void 0:m.id)===(null==o?void 0:o.id)||A?void 0:"168px",U={display:"flex",justifyContent:"space-between",alignItems:"center"},W=(0,p.KW)(n.creator),G=r?(0,T.WGd)(r,s,l):o?(0,T.AWr)(o,l):"",X="More from ".concat(r?r.name:null==o?void 0:o.name),z=r?r.description:null==o?void 0:o.bio,Y=null;o&&(Y=m&&null!=h&&h.isBlocking?u.createElement(x.d,{buttonSize:O,targetUserId:o.id}):u.createElement(S.x,{display:"flex",marginLeft:"8px"},u.createElement(g.N,{creator:o,followButtonSize:O,post:n,susiEntry:I})));var $=r?u.createElement(d.Fp,{buttonSize:O,collection:r,post:n,susiEntry:I}):Y;return u.createElement(S.x,{print:{display:"none"}},(null==o?void 0:o.name)&&(null==o?void 0:o.username)&&!W&&u.createElement(S.x,{paddingBottom:"30px"},u.createElement(k.P,{size:i},u.createElement(S.x,a()({},U,{borderTop:"BASE_LIGHTER",paddingTop:"33px"}),u.createElement(S.x,null,u.createElement(b.Lh,{scale:"S"},"Written by"),u.createElement(P.X6,{scale:H,clamp:M},u.createElement(w.r,{href:(0,T.AWr)(o,l)},o.name||o.username))),Y),o.bio&&u.createElement(S.x,{paddingTop:"6px",paddingRight:V},u.createElement(y.F,{scale:"M"},o.bio)))),(r||W)&&u.createElement(S.x,{paddingTop:"32px",paddingBottom:"4px",backgroundColor:"BASE_LIGHT"},u.createElement(k.P,{size:i},u.createElement(S.x,U,u.createElement(P.X6,{scale:H,clamp:M},u.createElement(w.r,{href:G},X)),$),z&&u.createElement(S.x,{paddingTop:"5px",paddingRight:V},u.createElement(y.F,{scale:"M"},z)))))},L=(0,s.Ps)(C(),d.Iq,d.b3,R.nf,E.S$,E.sj,p.C5,R.$m,m.b,h.w)},3967:(e,n,t)=>{"use strict";t.d(n,{L:()=>p,R:()=>f});var i=t(28655),o=t.n(i),r=t(71439),a=t(67294),l=t(77355),c=t(47230),s=t(43487),u=t(50458),d=t(68216);function m(){var e=o()(["\n  fragment PostFooterCollectionButton_collection on Collection {\n    id\n    name\n    ...collectionUrl_collection\n  }\n  ","\n"]);return m=function(){return e},e}var p=function(e){var n=e.collection,t=(0,s.v9)((function(e){return e.config.authDomain})),i=(0,s.v9)((function(e){return e.navigation.currentLocation}));return a.createElement(a.Fragment,null,(null==n?void 0:n.name)&&a.createElement(l.x,{maxWidth:"100%",textAlign:"center"},a.createElement(c.z,{buttonStyle:"STRONG",href:(0,u.WGd)(n,i,t)},"Read more from ",n.name)))},f=(0,r.Ps)(m(),d.nf)},13246:(e,n,t)=>{"use strict";t.d(n,{o:()=>a});var i=t(6443),o=t(54712),r=t(43487);function a(){var e=(0,o.xg)(),n=(0,r.v9)((function(e){return e.client.hydrated})),t=(0,r.p9)((function(e){return e.session.isLoggedInCookie})),a=(0,i.H)().value,l=t||!!a,c=(0,r.p9)((function(e){return e.session.isSpoofed}));return!n&&e||!l&&!c}},68773:(e,n,t)=>{"use strict";t.d(n,{$:()=>d,G:()=>m});var i=t(28655),o=t.n(i),r=t(71439),a=t(67294),l=t(94124),c=t(77355),s=t(46696);function u(){var e=o()(["\n  fragment SidebarProfilePic_user on User {\n    id\n    imageId\n  }\n"]);return u=function(){return e},e}var d=function(e){var n=e.user;return n.imageId?a.createElement(c.x,{marginBottom:"20px",maxHeight:"131px",maxWidth:"131px",overflow:"hidden"},a.createElement(l.E,{src:(0,s.W6)({miroId:n.imageId,width:131,height:131,strategy:s._S.Crop}),width:131})):null},m=(0,r.Ps)(u())},34784:(e,n,t)=>{"use strict";t.d(n,{$:()=>p});var i=t(63038),o=t.n(i),r=t(67294),a=t(77355),l=t(20113),c=t(14646),s=t(77280),u=t(73004),d=t(68894),m=300,p=function(e){var n,t=e.children,i=e.title,p=e.titleComponent,f=e.width,v=e.arrowFill,g=null===(n=(0,s.Wd)("unfold"))||void 0===n?void 0:n.toLowerCase(),E=!!i&&g===i.toLowerCase(),h=(0,c.I)(),x=(0,d.O)(!1),S=o()(x,4),k=S[0],w=S[3],b=function(e){var n=r.useRef(null),t=r.useState("0px"),i=o()(t,2),a=i[0],l=i[1],c=r.useState(!1),s=o()(c,2),u=s[0],d=s[1];return r.useEffect((function(){var t=n.current;t&&(e?(l("".concat(t.getBoundingClientRect().height,"px")),d(!0),setTimeout((function(){l("auto"),d(!1)}),m)):"auto"===a&&(l("".concat(t.getBoundingClientRect().height,"px")),d(!0),setTimeout((function(){return l("0px")}),50),setTimeout((function(){return d(!1)}),m)))}),[e]),{height:a,isAnimating:u,ref:n}}(k),P=b.ref,y=b.height,N=b.isAnimating;return r.useEffect((function(){E&&w()}),[]),r.createElement(r.Fragment,null,r.createElement("button",{className:h({width:f||"100%",height:"100%",border:"none",textAlign:"left",outline:"none",cursor:"pointer",padding:"0px"}),onClick:w,disabled:N},r.createElement(a.x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},p||r.createElement(l.X6,{scale:"XS"},i||""),r.createElement(u.Z,{className:h((function(e){return{transition:"".concat(m,"ms transform"),transform:k?"rotate(180deg)":"rotate(0)",fill:v||e.baseColor.fill.normal}}))}))),r.createElement("div",{className:h({transition:"".concat(m,"ms height"),height:y,overflow:!k||N?"hidden":"visible",opacity:k?1:0})},r.createElement("div",{ref:P,className:h({opacity:k?1:0,transition:"".concat(m,"ms opacity"),display:"flex",justifyContent:"space-between",flexDirection:"column",flexFlow:"wrap"})},t)))}},86122:(e,n,t)=>{"use strict";t.d(n,{T6:()=>i,JS:()=>o,Ui:()=>r});var i=function(e,n){return function(){var t=new IntersectionObserver((function(t){var i=e.get("ghost-track");if(i){var o=t.find((function(e){return e.target===i.ref.current}));o&&n(o.isIntersecting)}else n(!1)}));return e.forEach((function(e){e.ref.current&&t.observe(e.ref.current)})),function(){t.disconnect()}}},o=function(e){return{maxHeight:"".concat(e,"px"),overflowY:"scroll",scrollbarWidth:"none","-ms-overflow-style":"none","::-webkit-scrollbar":{display:"none"}}},r=function(e,n,t){var i;if(t&&null!==(i=window)&&void 0!==i&&i.innerHeight&&n){var o=window.innerHeight-n-80;if(e&&t<=o)return 0;if(o<=t)return Math.max(o,150)}return e}},27669:(e,n,t)=>{"use strict";t.d(n,{d:()=>f});var i=t(63038),o=t.n(i),r=t(67294),a=t(13454),l=t(6443),c=t(18733),s=t(47230),u=t(31889),d=t(98096),m=t(68894),p=t(3207),f=function(e){var n=e.buttonSize,t=e.targetUserId,i=(0,m.O)(!1),f=o()(i,3),v=f[0],g=f[1],E=f[2],h=(0,u.F)(),x=(0,c.Uo)().baseTheme,S=(0,p.q3)(h,x),k=(0,l.H)().value;return k?r.createElement(d.f,{theme:S},r.createElement(a.E,{targetUserId:t,viewerId:k&&k.id},(function(e){var t=e.mutate;return r.createElement(s.z,{buttonStyle:v?"SUBTLE":"ERROR",onClick:t,size:n||"REGULAR",onMouseEnter:g,onMouseLeave:E},v?"Unblock":"Blocked")}))):null}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/98453.4185c7d5.chunk.js.map